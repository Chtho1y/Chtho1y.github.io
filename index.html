<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chtholy - Innovator, Design Hacker, Programmer, Designer</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700&display=swap');

        :root {
            --primary-color: #000;
            --secondary-color: #333;
            --accent-color: #0070c9;
            --background-color: #f5f5f7;
            --comment-bg: #fff;
            --border-radius: 12px;
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: var(--primary-color);
            background-color: var(--background-color);
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        header {
            background-color: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            position: fixed;
            width: 100%;
            z-index: 1000;
            top: 0;
            left: 0;
            padding: 20px 0;
        }

        nav ul {
            display: flex;
            justify-content: center;
            list-style-type: none;
        }

        nav ul li {
            margin: 0 15px;
        }

        nav ul li a {
            font-weight: bold;
            text-decoration: none;
            color: var(--secondary-color);
            transition: color 0.3s ease;
        }

        nav ul li a:hover {
            color: var(--accent-color);
        }

        #hero {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
        }

        #flyfish {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .hero-content {
            max-width: 800px;
        }

        .subtitle {
            font-size: 1.5rem;
            margin-bottom: 30px;
            color: #fff;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }

        .cta-button {
            display: inline-block;
            background-color: var(--accent-color);
            color: #fff;
            padding: 12px 24px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: bold;
            transition: background-color 0.3s ease;
        }

        .cta-button:hover {
            background-color: #005999;
        }

        section {
            padding: 80px 0;
        }

        h2 {
            font-size: 2.5rem;
            margin-bottom: 40px;
            text-align: center;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
        }

        .card {
            font-size: 24px;
            font-weight: 300;
            background-color: #fff;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card h3 {
            font-size: 1.5rem;
            font-weight: 300;
            margin-bottom: 15px;
        }

        /* AI API Styles */
        .api-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }

        .api-table th,
        .api-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        .api-table th {
            background-color: #f8f9fa;
            font-weight: 600;
        }

        .api-table tr:hover {
            background-color: #f8f9fa;
        }

        .api-table a {
            color: var(--accent-color);
            text-decoration: none;
        }

        .api-table a:hover {
            text-decoration: underline;
        }

        /* Comments Styles */
        #comments {
            background: var(--background-color);
            padding: 80px 0;
        }

        .comments-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .comment-form {
            background: var(--comment-bg);
            padding: 30px;
            border-radius: var(--border-radius);
            margin-bottom: 40px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .comment-form textarea {
            width: 100%;
            padding: 15px;
            border: 1px solid #e1e1e1;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
            font-family: 'Inter', sans-serif;
            resize: vertical;
            min-height: 100px;
            transition: var(--transition);
        }

        .comment-form textarea:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 2px rgba(0, 112, 201, 0.2);
        }

        .comment-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .image-upload {
            position: relative;
            display: inline-block;
        }

        .image-upload input[type="file"] {
            display: none;
        }

        .image-upload label {
            display: inline-flex;
            align-items: center;
            padding: 8px 16px;
            background: #f5f5f7;
            border-radius: 20px;
            cursor: pointer;
            transition: var(--transition);
        }

        .image-upload label:hover {
            background: #e5e5e7;
        }

        .image-upload label svg {
            margin-right: 8px;
        }

        .submit-comment {
            background: var(--accent-color);
            color: white;
            border: none;
            padding: 10px 24px;
            border-radius: 20px;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
        }

        .submit-comment:hover {
            background: #005999;
        }

        .comments-grid {
            column-count: 2;
            column-gap: 30px;
            margin-top: 40px;
        }

        .comment-card {
            break-inside: avoid;
            background: var(--comment-bg);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
        }

        .comment-card:hover {
            transform: translateY(-5px);
        }

        .comment-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .comment-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 12px;
            background: #e1e1e1;
            overflow: hidden;
        }

        .comment-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .comment-meta {
            flex-grow: 1;
        }

        .comment-author {
            font-weight: 500;
            color: var(--primary-color);
            margin: 0;
        }

        .comment-date {
            font-size: 0.875rem;
            color: #666;
        }

        .comment-content {
            color: var(--secondary-color);
            margin-bottom: 15px;
        }

        .comment-image {
            width: 100%;
            border-radius: 8px;
            margin-top: 15px;
        }

        .preview-image {
            max-width: 200px;
            max-height: 200px;
            margin-top: 10px;
            border-radius: 8px;
            display: none;
        }

        footer {
            background-color: var(--primary-color);
            color: #fff;
            text-align: center;
            padding: 20px 0;
        }

        @media (max-width: 768px) {
            nav {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                background-color: rgba(255, 255, 255, 0.9);
                z-index: 1000;
            }

            nav ul {
                display: flex;
                justify-content: space-around;
                padding: 10px 0;
                overflow-x: auto;
                white-space: nowrap;
            }

            nav ul li {
                display: inline-block;
                margin: 0 10px;
            }

            nav ul li a {
                font-size: 14px;
                padding: 5px 10px;
            }

            main {
                padding-top: 50px;
            }

            h1 {
                font-size: 2.5rem;
            }

            .subtitle {
                font-size: 1.2rem;
            }

            .comments-grid {
                column-count: 1;
            }
        }
    </style>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body>
    <header>
        <nav>
            <ul>
                <li><a href="#about">About</a></li>
                <li><a href="#projects">Api</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="hero">
            <div id="flyfish"></div>
            <div class="hero-content">
                <h1>Chtholy</h1>
                <p class="subtitle">Innovator, Design Hacker, Programmer, and Designer</p>
                <a href="#about" class="cta-button">Learn More</a>
            </div>
        </section>

        <section id="ai-api">
            <div class="container">
                <h2>Free AI API Collection</h2>
                <table class="api-table">
                    <thead>
                        <tr>
                            <th>Model</th>
                            <th>Provider</th>
                            <th>Context</th>
                            <th>Input</th>
                            <th>Output</th>
                            <th>Remark</th>
                            <th>Link</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Qwen/Qwen2-7B-Instruct</td>
                            <td>siliconflow</td>
                            <td>32K</td>
                            <td>$Free</td>
                            <td>$Free</td>
                            <td>RPM:100,QPS:3</td>
                            <td><a href="https://cloud.siliconflow.cn" target="_blank">Link</a></td>
                        </tr>
                        <tr>
                            <td>Qwen/Qwen2-1.5B-Instruct</td>
                            <td>siliconflow</td>
                            <td>32K</td>
                            <td>$Free</td>
                            <td>$Free</td>
                            <td>RPM:100,QPS:3</td>
                            <td><a href="https://cloud.siliconflow.cn" target="_blank">Link</a></td>
                        </tr>
                        <tr>
                            <td>THUDM/ChatGLM3-6b</td>
                            <td>siliconflow</td>
                            <td>32K</td>
                            <td>$Free</td>
                            <td>$Free</td>
                            <td>RPM:100,QPS:3</td>
                            <td><a href="https://cloud.siliconflow.cn" target="_blank">Link</a></td>
                        </tr>
                        <tr>
                            <td>glm-4-flash</td>
                            <td>智谱</td>
                            <td>16K</td>
                            <td>$Free</td>
                            <td>$Free</td>
                            <td>Free access to glm-4-flash</td>
                            <td><a href="https://open.bigmodel.cn" target="_blank">Link</a></td>
                        </tr>
                        <tr>
                            <td>gemini 1.5 flash</td>
                            <td>Google</td>
                            <td></td>
                            <td>$Free</td>
                            <td>$Free</td>
                            <td>15 RPM，100万个 TPM，1500 RPD</td>
                            <td><a href="https://ai.google.dev/pricing" target="_blank">Link</a></td>
                        </tr>
                        <tr>
                            <td>Gemini 1.5 Pro</td>
                            <td>Google</td>
                            <td></td>
                            <td>$Free</td>
                            <td>$Free</td>
                            <td>2 RPM,32,000TPM,50 RPD</td>
                            <td><a href="https://ai.google.dev/pricing" target="_blank">Link</a></td>
                        </tr>
                        <tr>
                            <td>LLaMA3 8b</td>
                            <td>Groq</td>
                            <td>8,192 tokens</td>
                            <td>$Free</td>
                            <td>$Free</td>
                            <td>14400 RPD,18000 TPM</td>
                            <td><a href="https://console.groq.com/" target="_blank">Link</a></td>
                        </tr>
                        <tr>
                            <td>Mixtral 8x7b</td>
                            <td>Groq</td>
                            <td>32,768 tokens</td>
                            <td>$Free</td>
                            <td>$Free</td>
                            <td>14400 RPD,18000 TPM</td>
                            <td><a href="https://console.groq.com/" target="_blank">Link</a></td>
                        </tr>
                    </tbody>
                </table>
        </section>

        <!-- Comments -->
        <section id="comments">
            <div class="comments-container">
                <h2>Comments</h2>
                <div class="comment-form">
                    <textarea placeholder="Share your thoughts..."></textarea>
                    <div class="comment-actions">
                        <div class="image-upload">
                            <input type="file" id="imageInput" accept="image/*">
                            <label for="imageInput">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M21 19V5C21 3.9 20.1 3 19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19ZM8.5 13.5L11 16.51L14.5 12L19 18H5L8.5 13.5Z"
                                        fill="#666" />
                                </svg>
                                Add Image
                            </label>
                        </div>
                        <img id="imagePreview" class="preview-image" alt="Preview">
                        <button class="submit-comment">Post Comment</button>
                    </div>
                </div>
                <div class="comments-grid" id="commentsGrid">
                    <!-- Comments will be dynamically added here -->
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 Chtholy. All rights reserved.</p>
    </footer>

    <script>
        var RENDERER = {
            POINT_INTERVAL: 5,
            FISH_COUNT: 3,
            MAX_INTERVAL_COUNT: 50,
            INIT_HEIGHT_RATE: 0.5,
            THRESHOLD: 50,
            init: function () {
                this.setParameters();
                this.reconstructMethods();
                this.setup();
                this.bindEvent();
                this.render();
            },
            setParameters: function () {
                this.$window = $(window);
                this.$container = $('#flyfish');
                this.$canvas = $('<canvas />');
                this.context = this.$canvas.appendTo(this.$container).get(0).getContext('2d');
                this.points = [];
                this.fishes = [];
                this.watchIds = [];
            },
            createSurfacePoints: function () {
                var count = Math.round(this.width / this.POINT_INTERVAL);
                this.pointInterval = this.width / (count - 1);
                this.points.push(new SURFACE_POINT(this, 0));
                for (var i = 1; i < count; i++) {
                    var point = new SURFACE_POINT(this, i * this.pointInterval),
                        previous = this.points[i - 1];
                    point.setPreviousPoint(previous);
                    previous.setNextPoint(point);
                    this.points.push(point);
                }
            },
            reconstructMethods: function () {
                this.watchWindowSize = this.watchWindowSize.bind(this);
                this.jdugeToStopResize = this.jdugeToStopResize.bind(this);
                this.startEpicenter = this.startEpicenter.bind(this);
                this.moveEpicenter = this.moveEpicenter.bind(this);
                this.render = this.render.bind(this);
            },
            setup: function () {
                this.points.length = 0;
                this.fishes.length = 0;
                this.watchIds.length = 0;
                this.intervalCount = this.MAX_INTERVAL_COUNT;
                this.width = this.$container.width();
                this.height = this.$container.height();
                this.fishCount = this.FISH_COUNT * this.width / 500 * this.height / 500;
                this.$canvas.attr({ width: this.width, height: this.height });
                this.reverse = false;
                this.fishes.push(new FISH(this));
                this.createSurfacePoints();
            },
            watchWindowSize: function () {
                this.clearTimer();
                this.tmpWidth = this.$window.width();
                this.tmpHeight = this.$window.height();
                this.watchIds.push(setTimeout(this.jdugeToStopResize, this.WATCH_INTERVAL));
            },
            clearTimer: function () {
                while (this.watchIds.length > 0) {
                    clearTimeout(this.watchIds.pop());
                }
            },
            jdugeToStopResize: function () {
                var width = this.$window.width(),
                    height = this.$window.height(),
                    stopped = (width == this.tmpWidth && height == this.tmpHeight);
                this.tmpWidth = width;
                this.tmpHeight = height;
                if (stopped) {
                    this.setup();
                }
            },
            bindEvent: function () {
                this.$window.on('resize', this.watchWindowSize);
                this.$container.on('mouseenter', this.startEpicenter);
                this.$container.on('mousemove', this.moveEpicenter);
            },
            getAxis: function (event) {
                var offset = this.$container.offset();
                return { x: event.clientX - offset.left + this.$window.scrollLeft(), y: event.clientY - offset.top + this.$window.scrollTop() };
            },
            startEpicenter: function (event) {
                this.axis = this.getAxis(event);
            },
            moveEpicenter: function (event) {
                var axis = this.getAxis(event);
                if (!this.axis) {
                    this.axis = axis;
                }
                this.generateEpicenter(axis.x, axis.y, axis.y - this.axis.y);
                this.axis = axis;
            },
            generateEpicenter: function (x, y, velocity) {
                if (y < this.height / 2 - this.THRESHOLD || y > this.height / 2 + this.THRESHOLD) {
                    return;
                }
                var index = Math.round(x / this.pointInterval);
                if (index < 0 || index >= this.points.length) {
                    return;
                }
                this.points[index].interfere(y, velocity);
            },
            controlStatus: function () {
                for (var i = 0, count = this.points.length; i < count; i++) {
                    this.points[i].updateSelf();
                }
                for (var i = 0, count = this.points.length; i < count; i++) {
                    this.points[i].updateNeighbors();
                }
                if (this.fishes.length < this.fishCount) {
                    if (--this.intervalCount == 0) {
                        this.intervalCount = this.MAX_INTERVAL_COUNT;
                        this.fishes.push(new FISH(this));
                    }
                }
            },
            render: function () {
                requestAnimationFrame(this.render);
                this.controlStatus();
                this.context.clearRect(0, 0, this.width, this.height);
                this.context.fillStyle = 'hsl(0, 0%, 92%)';
                for (var i = 0, count = this.fishes.length; i < count; i++) {
                    this.fishes[i].render(this.context);
                }
                this.context.save();
                this.context.globalCompositeOperation = 'xor';
                this.context.beginPath();
                this.context.moveTo(0, this.reverse ? 0 : this.height);
                for (var i = 0, count = this.points.length; i < count; i++) {
                    this.points[i].render(this.context);
                }
                this.context.lineTo(this.width, this.reverse ? 0 : this.height);
                this.context.closePath();
                this.context.fill();
                this.context.restore();
            }
        };

        var SURFACE_POINT = function (renderer, x) {
            this.renderer = renderer;
            this.x = x;
            this.init();
        };

        SURFACE_POINT.prototype = {
            SPRING_CONSTANT: 0.015,
            SPRING_FRICTION: 0.95,
            WAVE_SPREAD: 0.25,
            ACCELARATION_RATE: 0.002,
            init: function () {
                this.initHeight = this.renderer.height * this.renderer.INIT_HEIGHT_RATE;
                this.height = this.initHeight;
                this.fy = 0;
                this.force = { previous: 0, next: 0 };
            },
            setPreviousPoint: function (previous) {
                this.previous = previous;
            },
            setNextPoint: function (next) {
                this.next = next;
            },
            interfere: function (y, velocity) {
                this.fy = this.renderer.height * this.ACCELARATION_RATE * ((this.renderer.height - this.height - y) >= 0 ? -1 : 1) * Math.abs(velocity);
            },
            updateSelf: function () {
                this.fy += this.SPRING_CONSTANT * (this.initHeight - this.height);
                this.fy *= this.SPRING_FRICTION;
                this.height += this.fy;
            },
            updateNeighbors: function () {
                if (this.previous) {
                    this.force.previous = this.WAVE_SPREAD * (this.height - this.previous.height);
                }
                if (this.next) {
                    this.force.next = this.WAVE_SPREAD * (this.height - this.next.height);
                }
            },
            render: function (context) {
                if (this.previous) {
                    this.previous.height += this.force.previous;
                    this.previous.fy += this.force.previous;
                }
                if (this.next) {
                    this.next.height += this.force.next;
                    this.next.fy += this.force.next;
                }
                context.lineTo(this.x, this.renderer.height - this.height);
            }
        };

        var FISH = function (renderer) {
            this.renderer = renderer;
            this.init();
        };

        FISH.prototype = {
            GRAVITY: 0.3,
            init: function () {
                this.direction = Math.random() < 0.5;
                this.x = this.direction ? (this.renderer.width + this.renderer.THRESHOLD) : -this.renderer.THRESHOLD;
                this.previousY = this.y;
                this.vx = this.getRandomValue(2, 8) * (this.direction ? -1 : 1);
                if (this.renderer.reverse) {
                    this.y = this.getRandomValue(this.renderer.height * 1 / 10, this.renderer.height * 4 / 10);
                    this.vy = this.getRandomValue(1, 4);
                    this.ay = this.getRandomValue(0.03, 0.15);
                } else {
                    this.y = this.getRandomValue(this.renderer.height * 6 / 10, this.renderer.height * 9 / 10);
                    this.vy = this.getRandomValue(-4, -1);
                    this.ay = this.getRandomValue(-0.15, -0.03);
                }
                this.isOut = false;
                this.theta = 0;
                this.phi = 0;
            },
            getRandomValue: function (min, max) {
                return min + (max - min) * Math.random();
            },
            controlStatus: function (context) {
                this.previousY = this.y;
                this.x += this.vx;
                this.y += this.vy;
                this.vy += this.ay;
                if (this.renderer.reverse) {
                    if (this.y > this.renderer.height * this.renderer.INIT_HEIGHT_RATE) {
                        this.vy -= this.GRAVITY;
                        this.isOut = true;
                    } else {
                        if (this.isOut) {
                            this.ay = this.getRandomValue(0.03, 0.15);
                        }
                        this.isOut = false;
                    }
                } else {
                    if (this.y < this.renderer.height * this.renderer.INIT_HEIGHT_RATE) {
                        this.vy += this.GRAVITY;
                        this.isOut = true;
                    } else {
                        if (this.isOut) {
                            this.ay = this.getRandomValue(-0.15, -0.03);
                        }
                        this.isOut = false;
                    }
                }
                if (!this.isOut) {
                    this.theta += Math.PI / 40;
                    this.theta %= Math.PI * 2;
                    this.phi += Math.PI / 50;
                    this.phi %= Math.PI * 2;
                }
                this.renderer.generateEpicenter(this.x + (this.direction ? -1 : 1) * this.renderer.THRESHOLD, this.y, this.y - this.previousY);
                if (this.vx > 0 && this.x > this.renderer.width + this.renderer.THRESHOLD || this.vx < 0 && this.x < -this.renderer.THRESHOLD) {
                    this.init();
                }
            },
            render: function (context) {
                context.save();
                context.translate(this.x, this.y);
                context.rotate(Math.PI + Math.atan2(this.vy, this.vx));
                context.scale(1, this.direction ? 1 : -1);
                context.beginPath();
                context.moveTo(-30, 0);
                context.bezierCurveTo(-20, 15, 15, 10, 40, 0);
                context.bezierCurveTo(15, -10, -20, -15, -30, 0);
                context.fill();
                context.save();
                context.translate(40, 0);
                context.scale(0.9 + 0.2 * Math.sin(this.theta), 1);
                context.beginPath();
                context.moveTo(0, 0);
                context.quadraticCurveTo(5, 10, 20, 8);
                context.quadraticCurveTo(12, 5, 10, 0);
                context.quadraticCurveTo(12, -5, 20, -8);
                context.quadraticCurveTo(5, -10, 0, 0);
                context.fill();
                context.restore();
                context.save();
                context.translate(-3, 0);
                context.rotate((Math.PI / 3 + Math.PI / 10 * Math.sin(this.phi)) * (this.renderer.reverse ? -1 : 1));
                context.beginPath();
                if (this.renderer.reverse) {
                    context.moveTo(5, 0);
                    context.bezierCurveTo(10, 10, 10, 30, 0, 40);
                    context.bezierCurveTo(-12, 25, -8, 10, 0, 0);
                } else {
                    context.moveTo(-5, 0);
                    context.bezierCurveTo(-10, -10, -10, -30, 0, -40);
                    context.bezierCurveTo(12, -25, 8, -10, 0, 0);
                }
                context.closePath();
                context.fill();
                context.restore();
                context.restore();
                this.controlStatus(context);
            }
        };

        // Comments System
        document.addEventListener('DOMContentLoaded', function () {
            const imageInput = document.getElementById('imageInput');
            const imagePreview = document.getElementById('imagePreview');
            const commentTextarea = document.querySelector('.comment-form textarea');
            const submitButton = document.querySelector('.submit-comment');
            const commentsGrid = document.getElementById('commentsGrid');

            // Load comments from localStorage
            function loadComments() {
                const savedComments = localStorage.getItem('siteComments');
                if (savedComments) {
                    const comments = JSON.parse(savedComments);
                    comments.forEach(comment => {
                        const commentElement = createCommentElement(comment.text, comment.image, comment.author, comment.date);
                        commentsGrid.appendChild(commentElement);
                    });
                }
            }

            // Save comments to localStorage
            function saveComment(text, imageSrc) {
                const savedComments = localStorage.getItem('siteComments');
                const comments = savedComments ? JSON.parse(savedComments) : [];

                const newComment = {
                    text: text,
                    image: imageSrc,
                    author: 'Anonymous User',
                    date: new Date().toISOString(),
                    id: Date.now()
                };

                comments.unshift(newComment);
                localStorage.setItem('siteComments', JSON.stringify(comments));

                return newComment;
            }

            // Preview image before upload
            imageInput.addEventListener('change', function (e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function (e) {
                        imagePreview.src = e.target.result;
                        imagePreview.style.display = 'block';
                    }
                    reader.readAsDataURL(file);
                }
            });

            // Handle comment submission
            submitButton.addEventListener('click', function () {
                const commentText = commentTextarea.value.trim();
                if (!commentText && !imagePreview.src) return;

                const savedComment = saveComment(commentText, imagePreview.src);
                const comment = createCommentElement(savedComment.text, savedComment.image, savedComment.author, savedComment.date);
                commentsGrid.insertBefore(comment, commentsGrid.firstChild);

                // Reset form
                commentTextarea.value = '';
                imagePreview.src = '';
                imagePreview.style.display = 'none';
                imageInput.value = '';
            });

            // Create comment element
            function createCommentElement(text, imageSrc, author = 'Anonymous User', dateStr = new Date().toISOString()) {
                const comment = document.createElement('div');
                comment.className = 'comment-card';

                const header = document.createElement('div');
                header.className = 'comment-header';

                const avatar = document.createElement('div');
                avatar.className = 'comment-avatar';

                const avatarSeed = dateStr.split('T')[0];
                avatar.innerHTML = `<img src="https://api.dicebear.com/7.x/avataaars/svg?seed=${avatarSeed}" alt="Avatar">`;

                const meta = document.createElement('div');
                meta.className = 'comment-meta';

                const authorElem = document.createElement('p');
                authorElem.className = 'comment-author';
                authorElem.textContent = author;

                const date = document.createElement('span');
                date.className = 'comment-date';
                date.textContent = new Date(dateStr).toLocaleDateString();

                meta.appendChild(authorElem);
                meta.appendChild(date);

                header.appendChild(avatar);
                header.appendChild(meta);

                comment.appendChild(header);

                if (text) {
                    const content = document.createElement('div');
                    content.className = 'comment-content';
                    content.textContent = text;
                    comment.appendChild(content);
                }

                if (imageSrc && imageSrc !== '') {
                    const image = document.createElement('img');
                    image.className = 'comment-image';
                    image.src = imageSrc;
                    image.alt = 'Comment image';
                    comment.appendChild(image);
                }

                return comment;
            }
            loadComments();

            if (!localStorage.getItem('siteComments')) {
                const sampleComments = [
                    {
                        text: "Love what you've done here! Seriously, I could totally see these vibes fitting perfectly in an RPG game. Hit me up if you’re interested in a collab!",
                        image: "https://pic.imgdb.cn/item/6729b8eed29ded1a8c86d87d.png",
                        date: new Date(Date.now() - 86400000).toISOString()
                    }
                ];

                sampleComments.forEach(comment => {
                    saveComment(comment.text, comment.image);
                });
                loadComments();
            }
        });

        $(function () {
            RENDERER.init();
        });
    </script>
</body>

</html>